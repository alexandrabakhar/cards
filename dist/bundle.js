(()=>{"use strict";const e=()=>{const e=document.querySelector(".game__clock");let t=0,n=0;!function(){const i=setInterval((()=>{t++,t>=60&&(t=0,n++,n>=60)&&(n=0),e.textContent=(n>9?n:"0"+n)+":"+(t>9?t:"0"+t),console.log(1)}),1e3);window.application.timers.push(i)}()};function t(e){e.preventDefault();const t=document.querySelector(".content"),n=t.querySelector(".difficulty__levels").querySelector("input:checked");n?(window.application.level=n.value,t.textContent="",window.application.renderScreen("game")):console.log("Выберите уровень!")}const n=[{id:0,name:"back",img:"../static/back.png"},{id:1,name:"ace-of-clubs",img:"../static/images/ace-of-clubs.png"},{id:2,name:"king-of-clubs",img:"./static/images/king-of-clubs.png"},{id:3,name:"queen-of-clubs",img:"./static/images/queen-of-clubs.png"},{id:4,name:"jack-of-clubs",img:"./static/images/jack-of-clubs.png"},{id:5,name:"ten-of-clubs",img:"./static/images/ten-of-clubs.png"},{id:6,name:"nine-of-clubs",img:"./static/images/nine-of-clubs.png"},{id:7,name:"eight-of-clubs",img:"./static/images/eight-of-clubs.png"},{id:8,name:"seven-of-clubs",img:"./static/images/seven-of-clubs.png"},{id:9,name:"six-of-clubs",img:"./static/images/six-of-clubs.png"},{id:10,name:"ace-of-diamonds",img:"./static/images/ace-of-diamonds.png"},{id:11,name:"king-of-diamonds",img:"./static/images/king-of-diamonds.png"},{id:12,name:"queen-of-diamonds",img:"./static/images/queen-of-diamonds.png"},{id:13,name:"jack-of-diamonds",img:"./static/images/jack-of-diamonds.png"},{id:14,name:"ten-of-diamonds",img:"./static/images/ten-of-diamonds.png"},{id:15,name:"nine-of-diamonds",img:"./static/images/nine-of-diamonds.png"},{id:16,name:"eight-of-diamonds",img:"./static/images/eight-of-diamonds.png"},{id:17,name:"seven-of-diamonds",img:"./static/images/seven-of-diamonds.png"},{id:18,name:"six-of-diamonds",img:"./static/images/six-of-diamonds.png"},{id:19,name:"ace-of-hearts",img:"./static/images/ace-of-hearts.png"},{id:20,name:"king-of-hearts",img:"./static/images/king-of-hearts.png"},{id:21,name:"queen-of-hearts",img:"./static/images/queen-of-hearts.png"},{id:22,name:"jack-of-hearts",img:"./static/images/jack-of-hearts.png"},{id:23,name:"ten-of-hearts",img:"./static/images/ten-of-hearts.png"},{id:24,name:"nine-of-hearts",img:"./static/images/nine-of-hearts.png"},{id:25,name:"eight-of-hearts",img:"./static/images/eight-of-hearts.png"},{id:26,name:"seven-of-hearts",img:"./static/images/seven-of-hearts.png"},{id:27,name:"six-of-hearts",img:"./static/images/six-of-hearts.png"},{id:28,name:"ace-of-spades",img:"./static/images/ace-of-spades.png"},{id:29,name:"king-of-spades",img:"./static/images/king-of-spades.png"},{id:30,name:"queen-of-spades",img:"./static/images/queen-of-spades.png"},{id:31,name:"jack-of-spades",img:"./static/images/jack-of-spades.png"},{id:32,name:"ten-of-spades",img:"./static/images/ten-of-spades.png"},{id:33,name:"nine-of-spades",img:"./static/images/nine-of-spades.png"},{id:34,name:"eight-of-spades",img:"./static/images/eight-of-spades.png"},{id:35,name:"seven-of-spades",img:"./static/images/seven-of-spades.png"},{id:36,name:"six-of-spades",img:"./static/images/six-of-spades.png"}],i=e=>{const t=(e=>{const t=[],i=[];for(let a=0;a<e;a++){const e=Math.round(35*Math.random()+1);if(i.includes(e))console.log("the same number"),a-=1;else{i.push(e);const a=n[e];t.push(a),t.push(a)}}return t})(e);return t.map((e=>({value:e,sort:Math.random()}))).sort(((e,t)=>e.sort-t.sort)).map((({value:e})=>e))};window.application={level:"",blocks:{"difficulty-heading":function(e){const t=document.createElement("h2");t.classList.add("difficulty__heading"),t.textContent="Выбери сложность",e.appendChild(t)},"difficulty-levels-radio":function(e){for(let t=1;t<=3;t++){const n=document.createElement("input");n.setAttribute("id",`level${t}`),n.setAttribute("value",`${t}`),n.setAttribute("name","levels"),n.setAttribute("type","radio"),n.classList.add("difficulty__levels-radio"),e.appendChild(n);const i=document.createElement("label");i.setAttribute("for",`level${t}`),i.textContent=`${t}`,e.appendChild(i)}},"difficulty-btn":function(e){const t=document.createElement("button");t.classList.add("difficulty__btn","btn"),t.textContent="Играть",e.appendChild(t)},"game-clock":function(e){const t=document.createElement("div");t.classList.add("game__clock-container");const n=document.createElement("div");n.classList.add("game__clock-text");const i=document.createElement("span");i.textContent="min";const a=document.createElement("span");a.textContent="sek";const s=document.createElement("h1");s.textContent="00.00",s.classList.add("game__clock"),n.appendChild(i),n.appendChild(a),t.appendChild(n),t.appendChild(s),e.appendChild(t)},"game-btn":function(e){const t=document.createElement("button");t.classList.add("game__btn","btn"),t.textContent="Начать заново",e.appendChild(t)},cards:function(e){const t=1===(n=+window.application.level)?i(3):2===n?i(6):3===n?i(9):void 0;var n;for(let n=0;n<t.length;n++){const i=t[n],a=document.createElement("img");a.setAttribute("src",`${i.img}`),a.setAttribute("alt",`${i.name}`),a.setAttribute("id",`${i.name}`),a.classList.add("card"),e.appendChild(a)}}},screens:{difficulty:()=>{const e=document.querySelector(".content"),n=document.createElement("form");n.classList.add("block__difficulty"),e.appendChild(n),n.addEventListener("submit",t),window.application.renderBlock("difficulty-heading",n);const i=document.createElement("div");i.classList.add("difficulty__levels"),n.appendChild(i),window.application.renderBlock("difficulty-levels-radio",i),window.application.renderBlock("difficulty-btn",n)},game:()=>{const t=document.querySelector(".content");t.classList.add("game__screen");const n=document.createElement("header");n.classList.add("game__header"),t.appendChild(n),window.application.renderBlock("game-clock",n),window.application.renderBlock("game-btn",n);const i=document.createElement("main");window.application.renderBlock("cards",i),i.addEventListener("click",(e=>{const t=e.target;t.classList.contains("card")&&((e=>{const t=window.application.answer;t.push(e),console.log(t);const n=t.length;e!==t[n-2]&&n%2==0?(alert("Вы проиграли!"),window.application.stopInterval()):n===6*window.application.level&&(alert("Вы выиграли!"),window.application.stopInterval())})(t.id),t.classList.remove("back"))})),t.appendChild(i);const a=setInterval((()=>{const t=i.children;for(const e of t)e.classList.add("back");console.log("5sec"),clearInterval(a),e()}),5e3);window.application.timers.push(a)}},renderScreen:function(e){this.timers.forEach((e=>{clearInterval(e)})),this.timers=[],this.screens[e]?this.screens[e]():console.log(`Такого поля '${e}' нет!`)},renderBlock:function(e,t){this.blocks[e]?this.blocks[e](t):console.log(`Такого поля '${e}' нет!`)},timers:[],answer:[],stopInterval:function(){this.timers.forEach((e=>{clearInterval(e)}))}},window.application.renderScreen("difficulty")})();